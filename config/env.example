# Airflow 環境變數範例（複製為 .env 或 export 後供 scripts 使用）
# 見 docs/IMPLEMENTATION_PLAN.md

# 資料庫連線（與 start-airflow.sh 中 PostgreSQL 一致）
export AIRFLOW__DATABASE__SQL_ALCHEMY_CONN="postgresql+psycopg2://airflow:airflow@airflow-db:5432/airflow"

# ---------------------------------------------------------------------------
# LocalExecutor（預設）：不需 Redis，單機執行 task
# ---------------------------------------------------------------------------
export AIRFLOW__CORE__EXECUTOR=LocalExecutor

# ---------------------------------------------------------------------------
# CeleryExecutor：需 Redis + worker + flower，可水平擴展 worker
# 使用時註解掉上方的 LocalExecutor，改為以下三行，再執行 scripts/start-airflow.sh
# ---------------------------------------------------------------------------
# export AIRFLOW__CORE__EXECUTOR=CeleryExecutor
# export AIRFLOW__CELERY__BROKER_URL="redis://airflow-redis:6379/0"
# export AIRFLOW__CELERY__RESULT_BACKEND="db+postgresql://airflow:airflow@airflow-db:5432/airflow"
